-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /workspace/output/logs/02_baseline_characteristics.log
  log type:  text
 opened on:   7 May 2021, 17:57:29

. 
. * IMPORT DATA================================================================
> =*/ 
. 
. use `c(pwd)'/`inputfile', clear

. 
. /* PROGRAMS TO AUTOMATE TABULATIONS==========================================
> =*/ 
. 
. *****************************************************************************
> ***
. * All code for categorical variables from K Bhaskaran 
. * Generic code to output one row within the table 
. 
. /* Explanatory Notes 
> the syntax row specifies two inputs for the program: 
>         a VARNAME which is your variable that you would like to tabulate, str
> atified 
>         by the exposure 
>         a LEVEL which is only used to extract a value label to print 
>         a CONDITION which is a string of some condition you impose 
>         
> the program counts if variable and condition and returns the counts
> column percentages are then automatically generated
> this is then written to the text file 'tablecontent' 
> 
> */ 
. 
. cap prog drop generaterow

. program define generaterow
  1. syntax, variable(varname) [level(string)] condition(string) 
  2. 
.         * indent once for first row, two for others 
.         if ("`level'" != "") & ("`level'" != "1") {
  3.                 file write tablecontent _tab
  4.         } 
  5.         else if ("`level'" == "") {
  6.                         file write tablecontent _tab
  7.         } 
  8.         
.         * print a value label at beginning of row 
.         if ("`level'" != "") { 
  9.                         local vlab: label `variable' `level'
 10.                         file write tablecontent ("`vlab'") _tab 
 11.                         }
 12.         else {
 13.                         file write tablecontent ("Missing") _tab
 14.                         }
 15.         
.         * create denominator and print total 
.         qui count
 16.         local overalldenom=r(N)
 17.         
.         * total column
.         qui count if `variable' `condition'
 18.         local rowdenom = r(N)
 19.         local colpct = 100*(r(N)/`overalldenom')
 20.         file write tablecontent %15.0gc (`rowdenom')  (" (") %3.2f (`colpc
> t') (")") _tab
 21. 
.         * first exposure value 
.         qui count if vaccine_type == 1 
 22.         local rowdenom = r(N)
 23.         qui count if vaccine_type == 1 & `variable' `condition'
 24.         local pct = 100*(r(N)/`rowdenom') 
 25.         file write tablecontent %15.0gc (r(N)) (" (") %3.2f (`pct') (")") 
> _tab
 26. 
.         * second exposure value 
.         qui count if vaccine_type == 2
 27.         local rowdenom = r(N)
 28.         qui count if vaccine_type == 2 & `variable' `condition'
 29.         local pct = 100*(r(N)/`rowdenom')
 30.         file write tablecontent %15.0gc (r(N)) (" (") %3.2f  (`pct') (")")
>  _n
 31.         
. end

. 
. * Generic code to output one section (varible) within table (calls above)
. 
. /* Explanatory Notes 
> defines program tabulate variable 
> syntax is : 
> 
>         - a VARNAME which is your variable of interest 
>         - a numeric minimum (min value of your variable you want to tabulate)
>         - a numeric maximum (max value of your variable you want to tabulate)
>         - optional missing option, default value is no missing  
>         
> for values lowest to highest of the variable, the program then calls the 
> generate row program defined above to generate a row 
> if there is a missing specified, then run the generate row for missing vals
> */ 
. 
. cap prog drop tabulatevariable

. prog define tabulatevariable
  1. syntax, variable(varname) min(real) max(real) [missing]
  2.         
.         local lab: variable label `variable'
  3.         file write tablecontent ("`lab'") _tab 
  4. 
.         forvalues varlevel = `min'/`max'{ 
  5.                 generaterow, variable(`variable') level(`varlevel') condit
> ion("==`varlevel'")
  6.         }
  7.         
.         if "`missing'"!="" generaterow, variable(`variable') condition(">=.")
  8. 
. end

. 
. * Generic code to summarise a continuous variable 
. 
. cap prog drop summarizevariable 

. prog define summarizevariable
  1. syntax, variable(varname) 
  2. 
.         local lab: variable label `variable'
  3.         file write tablecontent ("`lab'") _tab
  4.         
.         qui summarize `variable', d
  5.         file write tablecontent ("Median (IQR)") _tab 
  6.         file write tablecontent (round(r(p50)),0.01) (" (") (round(r(p25))
> ,0.01) ("-") (round(r(p75)),0.01) (")") _tab
  7.                                                         
.         qui summarize `variable' if vaccine_type == 1, d
  8.         file write tablecontent (round(r(p50)),0.01) (" (") (round(r(p25))
> ,0.01) ("-") (round(r(p75)),0.01) (")") _tab
  9. 
.         qui summarize `variable' if vaccine_type == 2, d
 10.         file write tablecontent (round(r(p50)),0.01) (" (") (round(r(p25))
> ,0.01) ("-") (round(r(p75)),0.01) (")") _n
 11.         
.         qui summarize `variable', d
 12.         file write tablecontent _tab ("Min, Max") _tab 
 13.         file write tablecontent (round(r(min)),0.01) (", ") (round(r(max))
> ,0.01) ("") _tab
 14.                                                         
.         qui summarize `variable' if vaccine_type == 1, d
 15.         file write tablecontent (round(r(min)),0.01) (", ") (round(r(max))
> ,0.01) ("") _tab
 16. 
.         qui summarize `variable' if vaccine_type == 2, d
 17.         file write tablecontent (round(r(min)), 0.01) (", ") (round(r(max)
> ),0.01) ("") _n
 18.         
. end

. 
. 
. /* INVOKE PROGRAMS FOR TABLE 1===============================================
> =*/ 
. * include cross tabs in log for QC 
. 
. *Set up output file
. cap file close tablecontent

. file open tablecontent using `c(pwd)'/output/tables/table1.txt, write text re
> place
(note: file /workspace/output/tables/table1.txt not found)

. 
. file write tablecontent ("Table 1: Demographic and Clinical Characteristics b
> y Vaccine Type") _n

. 
. * Exposure labelled columns
. 
. local lab1: label (vaccine_type) 1, strict

. local lab2: label (vaccine_type) 2, strict

. 
. 
. file write tablecontent _tab _tab   ("Total")                       _tab ///
>                                                                         ("`la
> b1'")                              _tab ///
>                                                                         ("`la
> b2'")                      _n

. 
. * DEMOGRAPHICS (more than one level, potentially missing) 
. 
. gen byte cons=1

. tabulatevariable, variable(cons) min(1) max(1) 

. file write tablecontent _n 

. 
. safetab vaccine_type
0

    Type of |
   COVID-19 |
    Vaccine |
     (First |
      Dose) |      Freq.     Percent        Cum.
------------+-----------------------------------
     Pfizer |  3,709,034       33.41       33.41
AstraZeneca |  7,392,659       66.59      100.00
------------+-----------------------------------
      Total | 11,101,693      100.00

. 
. tabulatevariable, variable(agegroup) min(1) max(7) 

. file write tablecontent _n 

. 
. safetab vaccine_type agegroup, row 
22

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |                 Grouped age
      Dose) |    16-<30     30-<50     50-<65     65-<70 |     Total
------------+--------------------------------------------+----------
     Pfizer |   232,928    672,901    896,156    357,857 | 3,709,034 
            |      6.28      18.14      24.16       9.65 |    100.00 
------------+--------------------------------------------+----------
AstraZeneca |   361,315  1,759,591  3,075,952    715,977 | 7,392,659 
            |      4.89      23.80      41.61       9.68 |    100.00 
------------+--------------------------------------------+----------
      Total |   594,243  2,432,492  3,972,108  1,073,834 |11,101,693 
            |      5.35      21.91      35.78       9.67 |    100.00 


    Type of |
   COVID-19 |
    Vaccine |
     (First |           Grouped age
      Dose) |    70-<75     75-<80        80+ |     Total
------------+---------------------------------+----------
     Pfizer |   394,282    382,810    772,100 | 3,709,034 
            |     10.63      10.32      20.82 |    100.00 
------------+---------------------------------+----------
AstraZeneca |   729,774    433,710    316,340 | 7,392,659 
            |      9.87       5.87       4.28 |    100.00 
------------+---------------------------------+----------
      Total | 1,124,056    816,520  1,088,440 |11,101,693 
            |     10.13       7.35       9.80 |    100.00 

. 
. tabulatevariable, variable(male) min(1) max(2) 

. file write tablecontent _n 

. 
. safetab vaccine_type male, row
18

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |         Male
      Dose) |       Yes         No |     Total
------------+----------------------+----------
     Pfizer | 1,545,224  2,163,810 | 3,709,034 
            |     41.66      58.34 |    100.00 
------------+----------------------+----------
AstraZeneca | 3,567,587  3,825,072 | 7,392,659 
            |     48.26      51.74 |    100.00 
------------+----------------------+----------
      Total | 5,112,811  5,988,882 |11,101,693 
            |     46.05      53.95 |    100.00 

. 
. tabulatevariable, variable(ethnicity) min(1) max(5) missing 

. file write tablecontent _n 

. 
. safetab vaccine_type ethnicity, row 
23

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |                  Ethnicity
      Dose) |     White      Mixed  Asian or       Black |     Total
------------+--------------------------------------------+----------
     Pfizer | 2,600,461     22,013    164,479     44,992 | 2,865,516 
            |     90.75       0.77       5.74       1.57 |    100.00 
------------+--------------------------------------------+----------
AstraZeneca | 5,159,278     48,304    349,323    100,448 | 5,737,507 
            |     89.92       0.84       6.09       1.75 |    100.00 
------------+--------------------------------------------+----------
      Total | 7,759,739     70,317    513,802    145,440 | 8,603,023 
            |     90.20       0.82       5.97       1.69 |    100.00 


    Type of |
   COVID-19 |
    Vaccine |
     (First | Ethnicity
      Dose) |     Other |     Total
------------+-----------+----------
     Pfizer |    33,571 | 2,865,516 
            |      1.17 |    100.00 
------------+-----------+----------
AstraZeneca |    80,154 | 5,737,507 
            |      1.40 |    100.00 
------------+-----------+----------
      Total |   113,725 | 8,603,023 
            |      1.32 |    100.00 

. 
. tabulatevariable, variable(imd) min(1) max(5) missing

. file write tablecontent _n 

. 
. safetab vaccine_type imd, row 
17

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |     Index of Multiple Deprivation (IMD)
      Dose) | 1 least d          2          3          4 |     Total
------------+--------------------------------------------+----------
     Pfizer |   571,780    665,086    801,090    809,467 | 3,633,837 
            |     15.73      18.30      22.05      22.28 |    100.00 
------------+--------------------------------------------+----------
AstraZeneca | 1,217,137  1,350,333  1,574,400  1,571,418 | 7,241,643 
            |     16.81      18.65      21.74      21.70 |    100.00 
------------+--------------------------------------------+----------
      Total | 1,788,917  2,015,419  2,375,490  2,380,885 |10,875,480 
            |     16.45      18.53      21.84      21.89 |    100.00 


    Type of |  Index of
   COVID-19 |  Multiple
    Vaccine | Deprivatio
     (First |  n (IMD)
      Dose) | 5 most de |     Total
------------+-----------+----------
     Pfizer |   786,414 | 3,633,837 
            |     21.64 |    100.00 
------------+-----------+----------
AstraZeneca | 1,528,355 | 7,241,643 
            |     21.11 |    100.00 
------------+-----------+----------
      Total | 2,314,769 |10,875,480 
            |     21.28 |    100.00 

. 
. tabulatevariable, variable(bmicat) min(1) max(3) missing

. file write tablecontent _n 

. 
. safetab vaccine_type bmicat, row 
20

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |           Grouped BMI
      Dose) | Normal (<  Obese I -  Obese III |     Total
------------+---------------------------------+----------
     Pfizer | 2,249,371    872,045    154,707 | 3,276,123 
            |     68.66      26.62       4.72 |    100.00 
------------+---------------------------------+----------
AstraZeneca | 4,254,139  1,725,886    269,980 | 6,250,005 
            |     68.07      27.61       4.32 |    100.00 
------------+---------------------------------+----------
      Total | 6,503,510  2,597,931    424,687 | 9,526,128 
            |     68.27      27.27       4.46 |    100.00 

. 
. tabulatevariable, variable(care_home) min(1) max(3) missing

. file write tablecontent _n 

. 
. safetab vaccine_type care_home, row  
23

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |                  Care Home
      Dose) | Private H  Care Home  Nursing H  Care or N |     Total
------------+--------------------------------------------+----------
     Pfizer | 3,657,248      7,693      7,284        291 | 3,672,516 
            |     99.58       0.21       0.20       0.01 |    100.00 
------------+--------------------------------------------+----------
AstraZeneca | 7,275,323     26,744     20,002      1,166 | 7,323,235 
            |     99.35       0.37       0.27       0.02 |    100.00 
------------+--------------------------------------------+----------
      Total |10,932,571     34,437     27,286      1,457 |10,995,751 
            |     99.43       0.31       0.25       0.01 |    100.00 

. 
. * VTE variables (binary)
. 
. foreach varlist in  dvt                                     ///
>                                         pe                                   
>        ///
>                                         cvt_vte                             /
> //
>                                         portal_vte                          /
> //
>                                         smv_vte                             /
> //
>                                         hepatic_vte                     ///
>                                     vc_vte                                   
>    ///
>                                         other_vte                           /
> //
>                                         unspecified_vte             ///
>                                         any_vte                             /
> //
>                                         recent_dvt                           
>    ///
>                                         recent_pe                            
>    ///
>                                         recent_cvt                           
>    ///
>                                         recent_portal                   ///
>                                         recent_smv                           
>    ///
>                                         recent_hepatic                  ///
>                                         recent_vc                            
>    ///
>                                         recent_other                    ///
>                                         recent_unspecified              ///
>                                         recent_any  {
  2.                                                 
.                                                 tabulatevariable, variable(`v
> arlist') min(1) max(1)
  3.                                                 
.                                                 safetab vaccine_type `varlist
> ', row
  4.         
.                                         }
17

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          DVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,608,936    100,098 | 3,709,034 
            |     97.30       2.70 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,258,436    134,223 | 7,392,659 
            |     98.18       1.82 |    100.00 
------------+----------------------+----------
      Total |10,867,372    234,321 |11,101,693 
            |     97.89       2.11 |    100.00 
16

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          PE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,641,967     67,067 | 3,709,034 
            |     98.19       1.81 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,305,112     87,547 | 7,392,659 
            |     98.82       1.18 |    100.00 
------------+----------------------+----------
      Total |10,947,079    154,614 |11,101,693 
            |     98.61       1.39 |    100.00 
21

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          CVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,707,923      1,111 | 3,709,034 
            |     99.97       0.03 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,390,516      2,143 | 7,392,659 
            |     99.97       0.03 |    100.00 
------------+----------------------+----------
      Total |11,098,439      3,254 |11,101,693 
            |     99.97       0.03 |    100.00 
24

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |        Portal
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,707,507      1,527 | 3,709,034 
            |     99.96       0.04 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,389,958      2,701 | 7,392,659 
            |     99.96       0.04 |    100.00 
------------+----------------------+----------
      Total |11,097,465      4,228 |11,101,693 
            |     99.96       0.04 |    100.00 
21

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          SMV
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,830        204 | 3,709,034 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,230        429 | 7,392,659 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
      Total |11,101,060        633 |11,101,693 
            |     99.99       0.01 |    100.00 
25

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |        Hepatic
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,846        188 | 3,709,034 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,260        399 | 7,392,659 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
      Total |11,101,106        587 |11,101,693 
            |     99.99       0.01 |    100.00 
20

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |       Vena Cava
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,561        473 | 3,709,034 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,391,881        778 | 7,392,659 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
      Total |11,100,442      1,251 |11,101,693 
            |     99.99       0.01 |    100.00 
23

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |         Other
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,085        949 | 3,709,034 
            |     99.97       0.03 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,390,946      1,713 | 7,392,659 
            |     99.98       0.02 |    100.00 
------------+----------------------+----------
      Total |11,099,031      2,662 |11,101,693 
            |     99.98       0.02 |    100.00 
29

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Unspecified
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,703,108      5,926 | 3,709,034 
            |     99.84       0.16 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,382,728      9,931 | 7,392,659 
            |     99.87       0.13 |    100.00 
------------+----------------------+----------
      Total |11,085,836     15,857 |11,101,693 
            |     99.86       0.14 |    100.00 
21

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |        Any VTE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,552,010    157,024 | 3,709,034 
            |     95.77       4.23 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,181,734    210,925 | 7,392,659 
            |     97.15       2.85 |    100.00 
------------+----------------------+----------
      Total |10,733,744    367,949 |11,101,693 
            |     96.69       3.31 |    100.00 
24

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Recent DVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,706,595      2,439 | 3,709,034 
            |     99.93       0.07 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,388,780      3,879 | 7,392,659 
            |     99.95       0.05 |    100.00 
------------+----------------------+----------
      Total |11,095,375      6,318 |11,101,693 
            |     99.94       0.06 |    100.00 
23

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |       Recent PE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,706,385      2,649 | 3,709,034 
            |     99.93       0.07 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,387,701      4,958 | 7,392,659 
            |     99.93       0.07 |    100.00 
------------+----------------------+----------
      Total |11,094,086      7,607 |11,101,693 
            |     99.93       0.07 |    100.00 
24

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Recent CVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,992         42 | 3,709,034 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,559        100 | 7,392,659 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
      Total |11,101,551        142 |11,101,693 
            |    100.00       0.00 |    100.00 
27

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |     Recent Portal
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,897        137 | 3,709,034 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,404        255 | 7,392,659 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
      Total |11,101,301        392 |11,101,693 
            |    100.00       0.00 |    100.00 
24

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Recent SMV
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,025          9 | 3,709,034 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,636         23 | 7,392,659 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
      Total |11,101,661         32 |11,101,693 
            |    100.00       0.00 |    100.00 
28

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |    Recent Hepatic
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,023         11 | 3,709,034 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,623         36 | 7,392,659 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
      Total |11,101,646         47 |11,101,693 
            |    100.00       0.00 |    100.00 
23

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |   Recent Vena Cava
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,000         34 | 3,709,034 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,593         66 | 7,392,659 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
      Total |11,101,593        100 |11,101,693 
            |    100.00       0.00 |    100.00 
26

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |     Recent Other
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,008         26 | 3,709,034 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,616         43 | 7,392,659 
            |    100.00       0.00 |    100.00 
------------+----------------------+----------
      Total |11,101,624         69 |11,101,693 
            |    100.00       0.00 |    100.00 
32

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |  Recent Unspecified
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,688        346 | 3,709,034 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,392,067        592 | 7,392,659 
            |     99.99       0.01 |    100.00 
------------+----------------------+----------
      Total |11,100,755        938 |11,101,693 
            |     99.99       0.01 |    100.00 
24

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |    Recent Any VTE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,703,747      5,287 | 3,709,034 
            |     99.86       0.14 |    100.00 
------------+----------------------+----------
AstraZeneca | 7,383,509      9,150 | 7,392,659 
            |     99.88       0.12 |    100.00 
------------+----------------------+----------
      Total |11,087,256     14,437 |11,101,693 
            |     99.87       0.13 |    100.00 

.         
. file write tablecontent _n _n

. 
. * VTE variables (continuous)
. 
. foreach varlist in time_since_dvt                               ///     
>                    time_since_pe                ///
>                    time_since_cvt               ///
>                    time_since_portal            ///
>                    time_since_smv               ///
>                    time_since_hepatic           ///
>                                    time_since_vc                             
>    ///
>                    time_since_other             ///
>                    time_since_unspecified       ///
>                    time_since_any    {
  2.                                         
.                                                 summarizevariable, variable(`
> varlist')
  3.                                                 summarize `varlist' if vac
> cine_type == 1
  4.                                                 summarize `varlist' if vac
> cine_type == 2
  5.                                         
.                                    }    

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_since~t |    100,098    141.0785    166.8522   .0328542   1454.949

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_since~t |    134,223    129.8847    156.6941   .0328542   1455.704

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_sinc~pe |     67,067    119.2826    147.8061   .0328542   1454.259

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_sinc~pe |     87,547    110.1127    144.7949   .0328542   1455.409

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~t_vte |      1,111    115.0693    140.7132   .2628337   1453.733

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~t_vte |      2,143    107.8639    134.5493   .0657084   1454.489

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~l_vte |      1,527    53.71011    83.70109   .0328542   1453.306

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~l_vte |      2,701     56.9178    115.8838   .0328542   1455.343

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~v_vte |        204    64.83891    113.1692   .3942505   1453.076

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~v_vte |        429     70.0768    121.5986   .1971253    1454.62

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_~ic_vte |        188    47.43344    118.2409   .7227926   1451.269

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_~ic_vte |        399      46.222    82.54292    .164271   757.1581

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_~vc_vte |        473    46.18857    75.29031   .0657084   816.3614

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_~vc_vte |        778    45.64953    83.73193   .0657084   1454.554

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~r_vte |        949    108.0056    132.3457   .2299795    1453.01

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~r_vte |      1,713    117.8289    147.5654   .0657084   1454.916

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~d_vte |      5,926    56.09989    110.5569   .0328542   1453.766

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_s~d_vte |      9,931    48.89877    82.42997   .0657084   1455.014

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_since~y |    157,024    134.5095    162.6961   .0328542   1454.949

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
time_since~y |    210,925    123.7073    154.5281   .0328542   1455.704

. 
. file close tablecontent

. 
. * COMORBIDITIES [PLACEHOLDER]
. 
. * Close log file 
. log close
      name:  <unnamed>
       log:  /workspace/output/logs/02_baseline_characteristics.log
  log type:  text
 closed on:   7 May 2021, 18:06:45
-------------------------------------------------------------------------------
