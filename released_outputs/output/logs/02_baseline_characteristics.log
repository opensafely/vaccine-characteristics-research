-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /workspace/output/logs/02_baseline_characteristics.log
  log type:  text
 opened on:   6 May 2021, 18:52:31

. 
. * IMPORT DATA================================================================
> =*/ 
. 
. use `c(pwd)'/`inputfile', clear

. 
. /* PROGRAMS TO AUTOMATE TABULATIONS==========================================
> =*/ 
. 
. *****************************************************************************
> ***
. * All code for categorical variables from K Bhaskaran 
. * Generic code to output one row within the table 
. 
. /* Explanatory Notes 
> the syntax row specifies two inputs for the program: 
>         a VARNAME which is your variable that you would like to tabulate, str
> atified 
>         by the exposure 
>         a LEVEL which is only used to extract a value label to print 
>         a CONDITION which is a string of some condition you impose 
>         
> the program counts if variable and condition and returns the counts
> column percentages are then automatically generated
> this is then written to the text file 'tablecontent' 
> 
> */ 
. 
. cap prog drop generaterow

. program define generaterow
  1. syntax, variable(varname) [level(string)] condition(string) 
  2. 
.         * indent once for first row, two for others 
.         if ("`level'" != "") & ("`level'" != "1") {
  3.                 file write tablecontent _tab
  4.         } 
  5.         else if ("`level'" == "") {
  6.                         file write tablecontent _tab
  7.         } 
  8.         
.         * print a value label at beginning of row 
.         if ("`level'" != "") { 
  9.                         local vlab: label `variable' `level'
 10.                         file write tablecontent ("`vlab'") _tab 
 11.                         }
 12.         else {
 13.                         file write tablecontent ("Missing") _tab
 14.                         }
 15.         
.         * create denominator and print total 
.         qui count
 16.         local overalldenom=r(N)
 17.         
.         * total column
.         qui count if `variable' `condition'
 18.         local rowdenom = r(N)
 19.         local colpct = 100*(r(N)/`overalldenom')
 20.         file write tablecontent %15.0gc (`rowdenom')  (" (") %3.2f (`colpc
> t') (")") _tab
 21. 
.         * first exposure value 
.         qui count if vaccine_type == 1 
 22.         local rowdenom = r(N)
 23.         qui count if vaccine_type == 1 & `variable' `condition'
 24.         local pct = 100*(r(N)/`rowdenom') 
 25.         file write tablecontent %15.0gc (r(N)) (" (") %3.2f (`pct') (")") 
> _tab
 26. 
.         * second exposure value 
.         qui count if vaccine_type == 2
 27.         local rowdenom = r(N)
 28.         qui count if vaccine_type == 2 & `variable' `condition'
 29.         local pct = 100*(r(N)/`rowdenom')
 30.         file write tablecontent %15.0gc (r(N)) (" (") %3.2f  (`pct') (")")
>  _n
 31.         
. end

. 
. * Generic code to output one section (varible) within table (calls above)
. 
. /* Explanatory Notes 
> defines program tabulate variable 
> syntax is : 
> 
>         - a VARNAME which is your variable of interest 
>         - a numeric minimum (min value of your variable you want to tabulate)
>         - a numeric maximum (max value of your variable you want to tabulate)
>         - optional missing option, default value is no missing  
>         
> for values lowest to highest of the variable, the program then calls the 
> generate row program defined above to generate a row 
> if there is a missing specified, then run the generate row for missing vals
> */ 
. 
. cap prog drop tabulatevariable

. prog define tabulatevariable
  1. syntax, variable(varname) min(real) max(real) [missing]
  2.         
.         local lab: variable label `variable'
  3.         file write tablecontent ("`lab'") _tab 
  4. 
.         forvalues varlevel = `min'/`max'{ 
  5.                 generaterow, variable(`variable') level(`varlevel') condit
> ion("==`varlevel'")
  6.         }
  7.         
.         if "`missing'"!="" generaterow, variable(`variable') condition(">=.")
  8. 
. end

. 
. * Generic code to summarise a continuous variable 
. 
. cap prog drop summarizevariable 

. prog define summarizevariable
  1. syntax, variable(varname) 
  2. 
.         local lab: variable label `variable'
  3.         file write tablecontent ("`lab'") _tab
  4.         
.         qui summarize `variable', d
  5.         file write tablecontent ("Median (IQR)") _tab 
  6.         file write tablecontent (round(r(p50)),0.01) (" (") (round(r(p25))
> ,0.01) ("-") (round(r(p75)),0.01) (")") _tab
  7.                                                         
.         qui summarize `variable' if vaccine_type == 1, d
  8.         file write tablecontent (round(r(p50)),0.01) (" (") (round(r(p25))
> ,0.01) ("-") (round(r(p75)),0.01) (")") _tab
  9. 
.         qui summarize `variable' if vaccine_type == 2, d
 10.         file write tablecontent (round(r(p50)),0.01) (" (") (round(r(p25))
> ,0.01) ("-") (round(r(p75)),0.01) (")") _n
 11.         
.         qui summarize `variable', d
 12.         file write tablecontent _tab ("Min, Max") _tab 
 13.         file write tablecontent (round(r(min)),0.01) (", ") (round(r(max))
> ,0.01) ("") _tab
 14.                                                         
.         qui summarize `variable' if vaccine_type == 1, d
 15.         file write tablecontent (round(r(min)),0.01) (", ") (round(r(max))
> ,0.01) ("") _tab
 16. 
.         qui summarize `variable' if vaccine_type == 2, d
 17.         file write tablecontent (round(r(min)), 0.01) (", ") (round(r(max)
> ),0.01) ("") _n
 18.         
. end

. 
. 
. /* INVOKE PROGRAMS FOR TABLE 1===============================================
> =*/ 
. * include cross tabs in log for QC 
. 
. *Set up output file
. cap file close tablecontent

. file open tablecontent using `c(pwd)'/output/tables/table1.txt, write text re
> place
(note: file /workspace/output/tables/table1.txt not found)

. 
. file write tablecontent ("Table 1: Demographic and Clinical Characteristics b
> y Vaccine Type") _n

. 
. * Exposure labelled columns
. 
. local lab1: label (vaccine_type) 1, strict

. local lab2: label (vaccine_type) 2, strict

. 
. 
. file write tablecontent _tab _tab   ("Total")                       _tab ///
>                                                                         ("`la
> b1'")                              _tab ///
>                                                                         ("`la
> b2'")                      _n

. 
. * DEMOGRAPHICS (more than one level, potentially missing) 
. 
. gen byte cons=1

. tabulatevariable, variable(cons) min(1) max(1) 

. file write tablecontent _n 

. 
. safetab vaccine_type
0

    Type of |
   COVID-19 |
    Vaccine |
     (First |
      Dose) |      Freq.     Percent        Cum.
------------+-----------------------------------
     Pfizer |  3,709,034       33.41       33.41
AstraZeneca |  7,392,659       66.59      100.00
------------+-----------------------------------
      Total | 11,101,693      100.00

. 
. tabulatevariable, variable(agegroup) min(1) max(7) 

. file write tablecontent _n 

. 
. safetab vaccine_type agegroup, col 
22

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |                 Grouped age
      Dose) |    16-<30     30-<50     50-<65     65-<70 |     Total
------------+--------------------------------------------+----------
     Pfizer |   232,928    672,901    896,156    357,857 | 3,709,034 
            |     39.20      27.66      22.56      33.33 |     33.41 
------------+--------------------------------------------+----------
AstraZeneca |   361,315  1,759,591  3,075,952    715,977 | 7,392,659 
            |     60.80      72.34      77.44      66.67 |     66.59 
------------+--------------------------------------------+----------
      Total |   594,243  2,432,492  3,972,108  1,073,834 |11,101,693 
            |    100.00     100.00     100.00     100.00 |    100.00 


    Type of |
   COVID-19 |
    Vaccine |
     (First |           Grouped age
      Dose) |    70-<75     75-<80        80+ |     Total
------------+---------------------------------+----------
     Pfizer |   394,282    382,810    772,100 | 3,709,034 
            |     35.08      46.88      70.94 |     33.41 
------------+---------------------------------+----------
AstraZeneca |   729,774    433,710    316,340 | 7,392,659 
            |     64.92      53.12      29.06 |     66.59 
------------+---------------------------------+----------
      Total | 1,124,056    816,520  1,088,440 |11,101,693 
            |    100.00     100.00     100.00 |    100.00 

. 
. tabulatevariable, variable(male) min(1) max(2) 

. file write tablecontent _n 

. 
. safetab vaccine_type male, col
18

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |         Male
      Dose) |       Yes         No |     Total
------------+----------------------+----------
     Pfizer | 1,545,224  2,163,810 | 3,709,034 
            |     30.22      36.13 |     33.41 
------------+----------------------+----------
AstraZeneca | 3,567,587  3,825,072 | 7,392,659 
            |     69.78      63.87 |     66.59 
------------+----------------------+----------
      Total | 5,112,811  5,988,882 |11,101,693 
            |    100.00     100.00 |    100.00 

. 
. tabulatevariable, variable(ethnicity) min(1) max(5) missing 

. file write tablecontent _n 

. 
. safetab vaccine_type ethnicity, col 
23

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |                  Ethnicity
      Dose) |     White      Mixed  Asian or       Black |     Total
------------+--------------------------------------------+----------
     Pfizer | 2,600,461     22,013    164,479     44,992 | 2,865,516 
            |     33.51      31.31      32.01      30.94 |     33.31 
------------+--------------------------------------------+----------
AstraZeneca | 5,159,278     48,304    349,323    100,448 | 5,737,507 
            |     66.49      68.69      67.99      69.06 |     66.69 
------------+--------------------------------------------+----------
      Total | 7,759,739     70,317    513,802    145,440 | 8,603,023 
            |    100.00     100.00     100.00     100.00 |    100.00 


    Type of |
   COVID-19 |
    Vaccine |
     (First | Ethnicity
      Dose) |     Other |     Total
------------+-----------+----------
     Pfizer |    33,571 | 2,865,516 
            |     29.52 |     33.31 
------------+-----------+----------
AstraZeneca |    80,154 | 5,737,507 
            |     70.48 |     66.69 
------------+-----------+----------
      Total |   113,725 | 8,603,023 
            |    100.00 |    100.00 

. 
. tabulatevariable, variable(imd) min(1) max(5) missing

. file write tablecontent _n 

. 
. safetab vaccine_type imd, col 
17

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |     Index of Multiple Deprivation (IMD)
      Dose) |         0  1 least d          2          3 |     Total
------------+--------------------------------------------+----------
     Pfizer |    75,197    571,780    665,086    801,090 | 3,709,034 
            |     33.24      31.96      33.00      33.72 |     33.41 
------------+--------------------------------------------+----------
AstraZeneca |   151,016  1,217,137  1,350,333  1,574,400 | 7,392,659 
            |     66.76      68.04      67.00      66.28 |     66.59 
------------+--------------------------------------------+----------
      Total |   226,213  1,788,917  2,015,419  2,375,490 |11,101,693 
            |    100.00     100.00     100.00     100.00 |    100.00 


    Type of |
   COVID-19 |
    Vaccine |   Index of Multiple
     (First |   Deprivation (IMD)
      Dose) |         4  5 most de |     Total
------------+----------------------+----------
     Pfizer |   809,467    786,414 | 3,709,034 
            |     34.00      33.97 |     33.41 
------------+----------------------+----------
AstraZeneca | 1,571,418  1,528,355 | 7,392,659 
            |     66.00      66.03 |     66.59 
------------+----------------------+----------
      Total | 2,380,885  2,314,769 |11,101,693 
            |    100.00     100.00 |    100.00 

. 
. tabulatevariable, variable(bmicat) min(1) max(3) missing

. file write tablecontent _n 

. 
. safetab vaccine_type bmicat, col 
20

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |           Grouped BMI
      Dose) | Normal (<  Obese I -  Obese III |     Total
------------+---------------------------------+----------
     Pfizer | 2,249,371    872,045    154,707 | 3,276,123 
            |     34.59      33.57      36.43 |     34.39 
------------+---------------------------------+----------
AstraZeneca | 4,254,139  1,725,886    269,980 | 6,250,005 
            |     65.41      66.43      63.57 |     65.61 
------------+---------------------------------+----------
      Total | 6,503,510  2,597,931    424,687 | 9,526,128 
            |    100.00     100.00     100.00 |    100.00 

. 
. tabulatevariable, variable(care_home) min(1) max(3) missing

. file write tablecontent _n 

. 
. safetab vaccine_type care_home, col  
23

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |                  Care Home
      Dose) | Private H  Care Home  Nursing H  Care or N |     Total
------------+--------------------------------------------+----------
     Pfizer | 3,657,248      7,693      7,284        291 | 3,672,516 
            |     33.45      22.34      26.70      19.97 |     33.40 
------------+--------------------------------------------+----------
AstraZeneca | 7,275,323     26,744     20,002      1,166 | 7,323,235 
            |     66.55      77.66      73.30      80.03 |     66.60 
------------+--------------------------------------------+----------
      Total |10,932,571     34,437     27,286      1,457 |10,995,751 
            |    100.00     100.00     100.00     100.00 |    100.00 

. 
. * VTE variables (binary)
. 
. foreach varlist in  dvt                                     ///
>                                         pe                                   
>        ///
>                                         cvt_vte                             /
> //
>                                         portal_vte                          /
> //
>                                         smv_vte                             /
> //
>                                         hepatic_vte                     ///
>                                     vc_vte                                   
>    ///
>                                         other_vte                           /
> //
>                                         unspecified_vte             ///
>                                         any_vte                             /
> //
>                                         recent_dvt                           
>    ///
>                                         recent_pe                            
>    ///
>                                         recent_cvt                           
>    ///
>                                         recent_portal                   ///
>                                         recent_smv                           
>    ///
>                                         recent_hepatic                  ///
>                                         recent_vc                            
>    ///
>                                         recent_other                    ///
>                                         recent_unspecified              ///
>                                         recent_any  {
  2.                                                 
.                                                 tabulatevariable, variable(`v
> arlist') min(1) max(1)
  3.                                                 
.                                                 safetab vaccine_type `varlist
> ', col
  4.         
.                                         }
17

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          DVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,608,936    100,098 | 3,709,034 
            |     33.21      42.72 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,258,436    134,223 | 7,392,659 
            |     66.79      57.28 |     66.59 
------------+----------------------+----------
      Total |10,867,372    234,321 |11,101,693 
            |    100.00     100.00 |    100.00 
16

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          PE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,641,967     67,067 | 3,709,034 
            |     33.27      43.38 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,305,112     87,547 | 7,392,659 
            |     66.73      56.62 |     66.59 
------------+----------------------+----------
      Total |10,947,079    154,614 |11,101,693 
            |    100.00     100.00 |    100.00 
21

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          CVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,707,923      1,111 | 3,709,034 
            |     33.41      34.14 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,390,516      2,143 | 7,392,659 
            |     66.59      65.86 |     66.59 
------------+----------------------+----------
      Total |11,098,439      3,254 |11,101,693 
            |    100.00     100.00 |    100.00 
24

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |        Portal
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,707,507      1,527 | 3,709,034 
            |     33.41      36.12 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,389,958      2,701 | 7,392,659 
            |     66.59      63.88 |     66.59 
------------+----------------------+----------
      Total |11,097,465      4,228 |11,101,693 
            |    100.00     100.00 |    100.00 
21

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |          SMV
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,830        204 | 3,709,034 
            |     33.41      32.23 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,230        429 | 7,392,659 
            |     66.59      67.77 |     66.59 
------------+----------------------+----------
      Total |11,101,060        633 |11,101,693 
            |    100.00     100.00 |    100.00 
25

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |        Hepatic
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,846        188 | 3,709,034 
            |     33.41      32.03 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,260        399 | 7,392,659 
            |     66.59      67.97 |     66.59 
------------+----------------------+----------
      Total |11,101,106        587 |11,101,693 
            |    100.00     100.00 |    100.00 
20

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |       Vena Cava
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,561        473 | 3,709,034 
            |     33.41      37.81 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,391,881        778 | 7,392,659 
            |     66.59      62.19 |     66.59 
------------+----------------------+----------
      Total |11,100,442      1,251 |11,101,693 
            |    100.00     100.00 |    100.00 
23

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |         Other
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,085        949 | 3,709,034 
            |     33.41      35.65 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,390,946      1,713 | 7,392,659 
            |     66.59      64.35 |     66.59 
------------+----------------------+----------
      Total |11,099,031      2,662 |11,101,693 
            |    100.00     100.00 |    100.00 
29

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Unspecified
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,703,108      5,926 | 3,709,034 
            |     33.40      37.37 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,382,728      9,931 | 7,392,659 
            |     66.60      62.63 |     66.59 
------------+----------------------+----------
      Total |11,085,836     15,857 |11,101,693 
            |    100.00     100.00 |    100.00 
21

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |        Any VTE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,552,010    157,024 | 3,709,034 
            |     33.09      42.68 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,181,734    210,925 | 7,392,659 
            |     66.91      57.32 |     66.59 
------------+----------------------+----------
      Total |10,733,744    367,949 |11,101,693 
            |    100.00     100.00 |    100.00 
24

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Recent DVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,706,595      2,439 | 3,709,034 
            |     33.41      38.60 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,388,780      3,879 | 7,392,659 
            |     66.59      61.40 |     66.59 
------------+----------------------+----------
      Total |11,095,375      6,318 |11,101,693 
            |    100.00     100.00 |    100.00 
23

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |       Recent PE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,706,385      2,649 | 3,709,034 
            |     33.41      34.82 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,387,701      4,958 | 7,392,659 
            |     66.59      65.18 |     66.59 
------------+----------------------+----------
      Total |11,094,086      7,607 |11,101,693 
            |    100.00     100.00 |    100.00 
24

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Recent CVT
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,992         42 | 3,709,034 
            |     33.41      29.58 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,559        100 | 7,392,659 
            |     66.59      70.42 |     66.59 
------------+----------------------+----------
      Total |11,101,551        142 |11,101,693 
            |    100.00     100.00 |    100.00 
27

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |     Recent Portal
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,897        137 | 3,709,034 
            |     33.41      34.95 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,404        255 | 7,392,659 
            |     66.59      65.05 |     66.59 
------------+----------------------+----------
      Total |11,101,301        392 |11,101,693 
            |    100.00     100.00 |    100.00 
24

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |      Recent SMV
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,025          9 | 3,709,034 
            |     33.41      28.12 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,636         23 | 7,392,659 
            |     66.59      71.88 |     66.59 
------------+----------------------+----------
      Total |11,101,661         32 |11,101,693 
            |    100.00     100.00 |    100.00 
28

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |    Recent Hepatic
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,023         11 | 3,709,034 
            |     33.41      23.40 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,623         36 | 7,392,659 
            |     66.59      76.60 |     66.59 
------------+----------------------+----------
      Total |11,101,646         47 |11,101,693 
            |    100.00     100.00 |    100.00 
23

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |   Recent Vena Cava
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,000         34 | 3,709,034 
            |     33.41      34.00 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,593         66 | 7,392,659 
            |     66.59      66.00 |     66.59 
------------+----------------------+----------
      Total |11,101,593        100 |11,101,693 
            |    100.00     100.00 |    100.00 
26

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |     Recent Other
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,709,008         26 | 3,709,034 
            |     33.41      37.68 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,616         43 | 7,392,659 
            |     66.59      62.32 |     66.59 
------------+----------------------+----------
      Total |11,101,624         69 |11,101,693 
            |    100.00     100.00 |    100.00 
32

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |  Recent Unspecified
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,708,688        346 | 3,709,034 
            |     33.41      36.89 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,392,067        592 | 7,392,659 
            |     66.59      63.11 |     66.59 
------------+----------------------+----------
      Total |11,100,755        938 |11,101,693 
            |    100.00     100.00 |    100.00 
24

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Type of |
   COVID-19 |
    Vaccine |
     (First |    Recent Any VTE
      Dose) |        No        Yes |     Total
------------+----------------------+----------
     Pfizer | 3,703,747      5,287 | 3,709,034 
            |     33.41      36.62 |     33.41 
------------+----------------------+----------
AstraZeneca | 7,383,509      9,150 | 7,392,659 
            |     66.59      63.38 |     66.59 
------------+----------------------+----------
      Total |11,087,256     14,437 |11,101,693 
            |    100.00     100.00 |    100.00 

.         
. file write tablecontent _n _n

. 
. * VTE variables (continuous)
. 
. foreach varlist in time_since_dvt                               ///     
>                    time_since_pe                ///
>                    time_since_cvt               ///
>                    time_since_portal            ///
>                    time_since_smv               ///
>                    time_since_hepatic           ///
>                                    time_since_vc                             
>    ///
>                    time_since_other             ///
>                    time_since_unspecified       ///
>                    time_since_any    {
  2.                                         
.                                                 summarizevariable, variable(`
> varlist')
  3.                                                 summarize `variable' if va
> ccine_type == 1
  4.                                                 summarize `variable' if va
> ccine_type == 2
  5.                                         
.                                    }    

. 
. file close tablecontent

. 
. * COMORBIDITIES [PLACEHOLDER]
. 
. * Close log file 
. log close
      name:  <unnamed>
       log:  /workspace/output/logs/02_baseline_characteristics.log
  log type:  text
 closed on:   6 May 2021, 19:06:30
-------------------------------------------------------------------------------
